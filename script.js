ymaps.ready(init);

function init() {
  const map = new ymaps.Map("map", {
    center: [64.5401, 40.5433],
    zoom: 7
  });

  const landmarks = [
    {
      name: "Музей Малые Корелы",
      coords: [64.456, 40.823],
      description: "Крупнейший в России музей деревянного зодчества под открытым небом. На площади 140 га собраны церкви, мельницы и избы XVI–XX веков. Живой музей с мастер-классами, народными гуляньями и зимними праздниками.",
      image: "malye-korely.jpg"
    },
    {
      name: "Соловецкий монастырь",
      coords: [65.025, 35.710],
      description: "Духовный символ Русского Севера, основанный в XV веке на Соловецких островах. Объект ЮНЕСКО с мощными крепостными стенами и трагической историей СЛОНа. Архитектурный ансамбль сочетает монастырскую строгость и северное величие.",
      image: "solovki.jpg"
    },
    {
      name: "Архангельский краеведческий музей",
      coords: [64.539, 40.515],
      description: "Старейший музей Русского Севера, основанный в 1837 году. Экспозиции охватывают историю поморов, традиции судостроения и арктические экспедиции. Здесь хранятся артефакты от древних времён до советской эпохи.",
      image: "kraevedchesky-museum.jfif"
    },
    {
      name: "Пинежский заповедник",
      coords: [64.676, 43.199],
      description: "Уникальный природный комплекс с карстовыми пещерами, реликтовыми лесами и редкими видами животных. Один из последних уголков нетронутой северной тайги, идеален для экотуризма. Особую ценность представляют гипсовые каньоны и подземные реки.",
      image: "pinega-zapovednik.jpeg"
    },
    {
      name: "Новодвинская крепость",
      coords: [64.699, 40.415],
      description: "Первая каменная бастионная крепость России, построенная Петром I в 1701 году. Защищала устье Северной Двины от шведов во время Северной войны. Сохранились фрагменты стен и валы, погружающие в эпоху ранней артиллерийской фортификации.",
      image: "krepost.jpg"
    },
    {
      name: "Проспект Чумбарова-Лучинского",
      coords: [64.53582677311785, 40.526515476725784],
      description: "Пешеходная «Архангельская слобода» с восстановленными домами XIX–XX веков. Здесь сосредоточены музеи, сувенирные лавки и памятник Степану Писахову. Место проведения городских праздников и ярмарок народных промыслов.",
      image: "chumbarovka.jpg"
    },
    {
      name: "Артемиево-Веркольский монастырь",
      coords: [63.796957, 45.160640],
      description: "Мужская обитель XVI века, основанная на месте обретения мощей святого Артемия Веркольского. Архитектурный комплекс в русском стиле с золотыми куполами на фоне северной природы. Возрождённый духовный центр с историей, пережившей годы запустения.",
      image: "verkola.jpg"
    },
    {
      name: "Музей народных промыслов и ремёсел Приморья в посёлке Уемский",
      coords: [64.477081, 40.847640],
      description: "Этнографический комплекс, посвящённый традиционным ремёслам поморов: резьбе по дереву, берестяному и ивовому плетению, гончарному делу. Здесь проводятся мастер-классы по созданию козуль (архангельских пряников) и народных игрушек. Музей сохраняет аутентичные технологии и демонстрирует связь северной культуры с природными материалами.",
      image: "remesla.jpg"
    }
  ];

  landmarks.forEach((landmark) => {
    const placemark = new ymaps.Placemark(
      landmark.coords,
      {
        hintContent: landmark.name,
        balloonContentHeader: `<strong>${landmark.name}</strong>`,
        balloonContentBody: `
          <img src="${landmark.image}" alt="${landmark.name}">
          <p>${landmark.description}</p>
        `
      },
      {
        iconLayout: "default#image",
        iconImageHref: "marker.png",
        iconImageSize: [40, 40],
        iconImageOffset: [-20, -40]
      }
    );

    // Обработчики для показа/скрытия балуна
    placemark.events.add('mouseenter', function() {
      placemark.balloon.open();
    });
    
    placemark.events.add('mouseleave', function() {
      placemark.balloon.close();
    });

    map.geoObjects.add(placemark);
  });
}